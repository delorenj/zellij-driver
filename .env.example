# ============================================================================
# Perth (zellij-driver) Development Environment Configuration
# ============================================================================
#
# Copy this file to .env and fill in the values
# DO NOT commit .env to version control
#
# Generate secure passwords: openssl rand -base64 32
#
# ============================================================================

# ----------------------------------------------------------------------------
# PostgreSQL - Intent History and Snapshot Storage
# ----------------------------------------------------------------------------

# Database credentials
POSTGRES_PASSWORD=your_secure_postgres_password_here

# Connection string
# Port 5435 to avoid conflicts with other projects
DATABASE_URL=postgresql://perth:${POSTGRES_PASSWORD}@localhost:5435/perth

# Optional: Connection pool settings
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20

# ----------------------------------------------------------------------------
# Redis - Session State and Pane Metadata
# ----------------------------------------------------------------------------

# Redis connection
# Port 6382 to avoid conflicts with other projects
REDIS_URL=redis://localhost:6382/0

# Optional: Pool settings
REDIS_MAX_CONNECTIONS=50
REDIS_POOL_SIZE=10

# ----------------------------------------------------------------------------
# Perth CLI Configuration
# ----------------------------------------------------------------------------

# Logging
LOG_LEVEL=INFO
LOG_FORMAT=json

# Snapshot settings
SNAPSHOT_RETENTION_LIMIT=20
SNAPSHOT_AUTO_CLEANUP=true

# LLM Provider (for snapshot generation)
# Options: anthropic, openai, ollama
LLM_PROVIDER=anthropic
# LLM_MODEL=claude-sonnet-4-5-20250514

# API Keys (if using cloud providers)
# ANTHROPIC_API_KEY=your_api_key_here
# OPENAI_API_KEY=your_api_key_here

# Ollama endpoint (if using local LLM)
# OLLAMA_ENDPOINT=http://localhost:11434

# ----------------------------------------------------------------------------
# Development / Testing Configuration
# ----------------------------------------------------------------------------

# Environment
ENVIRONMENT=development

# Feature flags
ENABLE_DEBUG_LOGGING=true
ENABLE_PROFILING=false

# Testing
TEST_DATABASE_URL=postgresql://perth:test_password@localhost:5435/perth_test

# ============================================================================
# NOTES
# ============================================================================
#
# 1. Security:
#    - Use strong, unique passwords
#    - Generate with: openssl rand -base64 32
#    - Never commit .env to version control
#
# 2. Service Ports:
#    - PostgreSQL: localhost:5435 (host) or postgres:5432 (container)
#    - Redis: localhost:6382 (host) or redis:6379 (container)
#
# 3. Perth CLI:
#    - The zdrive CLI reads configuration from ~/.config/zellij-driver/config.toml
#    - Environment variables can override config file settings
#    - Use `zdrive config show` to view current configuration
#
# ============================================================================
